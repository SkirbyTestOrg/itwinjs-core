## API Report File for "@bentley/imodeljs-clients"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { BeEvent } from '@bentley/bentleyjs-core';
import { BentleyError } from '@bentley/bentleyjs-core';
import { ClientRequestContext } from '@bentley/bentleyjs-core';
import { ClientRequestContextProps } from '@bentley/bentleyjs-core';
import { GetMetaDataFunction } from '@bentley/bentleyjs-core';
import { GuidString } from '@bentley/bentleyjs-core';
import * as https from 'https';
import { HttpStatus } from '@bentley/bentleyjs-core';
import { IDisposable } from '@bentley/bentleyjs-core';
import { LogFunction } from '@bentley/bentleyjs-core';

// @beta
export class AccessToken extends Token {
    // (undocumented)
    static foreignProjectAccessTokenJsonProperty: string;
    // @internal
    static fromForeignProjectAccessTokenJson(foreignJsonStr: string): AccessToken | undefined;
    // @internal
    static fromJson(jsonObj: any): AccessToken | undefined;
    // @internal
    static fromJsonWebTokenString(jwt: string, startsAt?: Date, expiresAt?: Date, userInfo?: UserInfo): AccessToken;
    // @internal
    static fromSamlAssertion(samlAssertion: string): AccessToken;
    // @internal
    static fromSamlTokenString(accessTokenStr: string, includesPrefix?: IncludePrefix): AccessToken;
    // @internal
    static fromTokenString(tokenStr: string): AccessToken;
    // @internal
    get isJwt(): boolean;
    // @internal
    toTokenString(includePrefix?: IncludePrefix): string;
}

// @beta
export class AuthenticationError extends ResponseError {
}

// @internal
export class AuthorizationToken extends Token {
    static fromSamlAssertion(samlAssertion: string): AuthorizationToken;
    toTokenString(includePrefix?: IncludePrefix): string;
}

// @public
export class AuthorizedClientRequestContext extends ClientRequestContext implements AuthorizedClientRequestContextProps {
    // @beta
    constructor(accessToken: AccessToken, activityId?: GuidString, applicationId?: string, applicationVersion?: string, sessionId?: GuidString);
    // @beta
    accessToken: AccessToken;
    // @internal (undocumented)
    toJSON(): AuthorizedClientRequestContextProps;
}

// @public
export interface AuthorizedClientRequestContextProps extends ClientRequestContextProps {
    // (undocumented)
    accessToken: any;
}

// @beta
export interface CancelRequest {
    cancel(): boolean;
}

// @beta (undocumented)
export type ChangeState = "new" | "modified" | "deleted";

// @internal (undocumented)
export interface ClassKeyMapInfo {
    classKeyPropertyName?: string;
    classPropertyName?: string;
    schemaPropertyName?: string;
}

// @beta
export abstract class Client {
    protected constructor();
    protected delete(requestContext: AuthorizedClientRequestContext, relativeUrlPath: string): Promise<void>;
    getUrl(requestContext: ClientRequestContext): Promise<string>;
    protected abstract getUrlSearchKey(): string;
    protected setupOptionDefaults(options: RequestOptions): Promise<void>;
    // (undocumented)
    protected _url?: string;
}

// @beta
export enum ClientsLoggerCategory {
    Clients = "imodeljs-clients.Clients",
    ECJson = "imodeljs-clients.ECJson",
    // (undocumented)
    Request = "imodeljs-clients.Request"
}

// @internal (undocumented)
export type ConstructorType = new () => any;

// @internal
export class DefaultRequestOptionsProvider {
    constructor();
    assignOptions(options: RequestOptions): Promise<void>;
    // (undocumented)
    protected _defaultOptions: RequestOptions;
}

// @internal
export class DefaultWsgRequestOptionsProvider extends DefaultRequestOptionsProvider {
    constructor();
}

// @beta
export abstract class ECInstance {
    // (undocumented)
    [index: string]: any;
    // (undocumented)
    ecId: string;
}

// @internal
export class ECJsonTypeMap {
    static classToJson(applicationKey: string, classKey: string, classKeyMapInfo: ClassKeyMapInfo): (typedConstructor: ConstructorType) => void;
    static fromJson<T extends ECInstance>(typedConstructor: new () => T, applicationKey: string, ecJsonInstance: any): T | undefined;
    static propertyToJson(applicationKey: string, propertyAccessString: string): (object: any, propertyKey: string) => void;
    static toJson<T extends ECInstance>(applicationKey: string, typedInstance: T): any | undefined;
}

// @beta
export interface FileHandler {
    // (undocumented)
    agent: https.Agent;
    basename(filePath: string): string;
    downloadFile(requestContext: AuthorizedClientRequestContext, downloadUrl: string, path: string, fileSize?: number, progress?: ProgressCallback, cancelRequest?: CancelRequest): Promise<void>;
    exists(filePath: string): boolean;
    getFileSize(filePath: string): number;
    isDirectory(filePath: string): boolean;
    join(...paths: string[]): string;
    uploadFile(requestContext: AuthorizedClientRequestContext, uploadUrlString: string, path: string, progress?: ProgressCallback): Promise<void>;
}

// @internal
export function getArrayBuffer(requestContext: ClientRequestContext, url: string): Promise<any>;

// @internal
export function getJson(requestContext: ClientRequestContext, url: string): Promise<any>;

// @beta
export interface IAuthorizationClient {
    getAccessToken(requestContext?: ClientRequestContext): Promise<AccessToken>;
    hasExpired: boolean;
    hasSignedIn: boolean;
    isAuthorized: boolean;
}

// @beta (undocumented)
export class ImsOidcClient extends Client {
    constructor();
    protected getUrlSearchKey(): string;
    // (undocumented)
    static readonly searchKey: string;
}

// @internal (undocumented)
export enum IncludePrefix {
    // (undocumented)
    No = 1,
    // (undocumented)
    Yes = 0
}

// @beta @deprecated
export interface IOidcFrontendClient extends IDisposable, IAuthorizationClient {
    getAccessToken(requestContext?: ClientRequestContext): Promise<AccessToken>;
    hasExpired: boolean;
    hasSignedIn: boolean;
    initialize(requestContext: ClientRequestContext): Promise<void>;
    isAuthorized: boolean;
    readonly onUserStateChanged: BeEvent<(token: AccessToken | undefined) => void>;
    signIn(requestContext: ClientRequestContext): Promise<void>;
    signOut(requestContext: ClientRequestContext): Promise<void>;
}

// @beta
export const isAuthorizedClientRequestContext: (requestContext: ClientRequestContext) => requestContext is AuthorizedClientRequestContext;

// @beta @deprecated
export const isIOidcFrontendClient: (client: IAuthorizationClient | undefined) => client is IOidcFrontendClient;

// @beta @deprecated
export interface OidcFrontendClientConfiguration {
    // @internal
    authority?: string;
    clientId: string;
    // @internal
    clockSkew?: number;
    // @internal
    metadata?: any;
    postSignoutRedirectUri?: string;
    redirectUri: string;
    // @internal
    responseType?: string;
    scope: string;
}

// @beta (undocumented)
export type ProgressCallback = (progress: ProgressInfo) => void;

// @beta (undocumented)
export interface ProgressInfo {
    // (undocumented)
    loaded: number;
    // (undocumented)
    percent?: number;
    // (undocumented)
    total?: number;
}

// @internal
export function request(requestContext: ClientRequestContext, url: string, options: RequestOptions): Promise<Response>;

// @beta (undocumented)
export interface RequestBasicCredentials {
    // (undocumented)
    password: string;
    // (undocumented)
    user: string;
}

// @beta (undocumented)
export class RequestGlobalOptions {
    // (undocumented)
    static httpsProxy?: https.Agent;
    // (undocumented)
    static maxRetries: number;
    // (undocumented)
    static online: boolean;
    // (undocumented)
    static timeout: RequestTimeoutOptions;
}

// @beta (undocumented)
export const requestIdHeaderName = "X-Correlation-Id";

// @beta (undocumented)
export interface RequestOptions {
    // (undocumented)
    accept?: string;
    // (undocumented)
    agent?: https.Agent;
    // (undocumented)
    auth?: RequestBasicCredentials;
    // (undocumented)
    body?: any;
    // (undocumented)
    buffer?: any;
    // (undocumented)
    errorCallback?: (response: any) => ResponseError;
    // (undocumented)
    headers?: any;
    // (undocumented)
    method: string;
    // (undocumented)
    parser?: any;
    // (undocumented)
    progressCallback?: ProgressCallback;
    // (undocumented)
    qs?: any | RequestQueryOptions;
    // (undocumented)
    readStream?: any;
    // (undocumented)
    redirects?: number;
    // (undocumented)
    responseType?: string;
    // (undocumented)
    retries?: number;
    // (undocumented)
    retryCallback?: (error: any, response: any) => boolean;
    // (undocumented)
    stream?: any;
    // (undocumented)
    timeout?: RequestTimeoutOptions;
    // (undocumented)
    useCorsProxy?: boolean;
}

// @beta
export interface RequestQueryOptions {
    $filter?: string;
    $orderby?: string;
    $pageSize?: number;
    $select?: string;
    $skip?: number;
    $top?: number;
}

// @beta (undocumented)
export interface RequestQueryStringifyOptions {
    // (undocumented)
    delimiter?: string;
    // (undocumented)
    encode?: boolean;
}

// @beta
export interface RequestTimeoutOptions {
    deadline?: number;
    response?: number;
}

// @beta
export interface Response {
    // (undocumented)
    body: any;
    // (undocumented)
    header: any;
    // (undocumented)
    status: number;
    // (undocumented)
    text: string | undefined;
}

// @beta
export class ResponseError extends BentleyError {
    constructor(errorNumber: number | HttpStatus, message?: string, getMetaData?: GetMetaDataFunction);
    // (undocumented)
    protected _data?: any;
    // (undocumented)
    description?: string;
    // @internal
    log(): void;
    // @internal (undocumented)
    logMessage(): string;
    // @internal
    static parse(response: any, log?: boolean): ResponseError;
    // @internal (undocumented)
    static parseHttpStatus(statusType: number): HttpStatus;
    // @internal
    static shouldRetry(error: any, response: any): boolean;
    // (undocumented)
    status?: number;
}

// @beta
export abstract class Token {
    protected constructor();
    // (undocumented)
    protected _expiresAt?: Date;
    // @internal (undocumented)
    getExpiresAt(): Date | undefined;
    // @internal (undocumented)
    protected getSaml(): string | undefined;
    // @internal (undocumented)
    getSamlAssertion(): string | undefined;
    // @internal (undocumented)
    getStartsAt(): Date | undefined;
    // @internal (undocumented)
    getUserInfo(): UserInfo | undefined;
    // (undocumented)
    protected _jwt?: string;
    // @internal (undocumented)
    protected parseSamlAssertion(): boolean;
    // (undocumented)
    protected _saml?: string;
    // (undocumented)
    protected _samlAssertion?: string;
    // @internal (undocumented)
    setUserInfo(userInfo: UserInfo): void;
    // (undocumented)
    protected _startsAt?: Date;
    // (undocumented)
    protected _userInfo?: UserInfo;
    // (undocumented)
    protected _x509Certificate?: string;
}

// @internal
export class UrlDiscoveryClient extends Client {
    constructor();
    // (undocumented)
    static readonly configResolveUrlUsingRegion = "imjs_buddi_resolve_url_using_region";
    // (undocumented)
    static readonly configURL = "imjs_buddi_url";
    discoverUrl(requestContext: ClientRequestContext, searchKey: string, regionId: number | undefined): Promise<string>;
    getUrl(): Promise<string>;
    protected getUrlSearchKey(): string;
}

// @internal
export class UserCancelledError extends BentleyError {
    constructor(errorNumber: number, message: string, log?: LogFunction, category?: string, getMetaData?: GetMetaDataFunction);
}

// @beta
export class UserInfo {
    constructor(
    id: string,
    email?: {
        id: string;
        isVerified?: boolean | undefined;
    } | undefined,
    profile?: {
        firstName: string;
        lastName: string;
        name?: string | undefined;
        preferredUserName?: string | undefined;
    } | undefined,
    organization?: {
        id: string;
        name: string;
    } | undefined,
    featureTracking?: {
        ultimateSite: string;
        usageCountryIso: string;
    } | undefined);
    email?: {
        id: string;
        isVerified?: boolean | undefined;
    } | undefined;
    featureTracking?: {
        ultimateSite: string;
        usageCountryIso: string;
    } | undefined;
    static fromJson(jsonObj: any): UserInfo | undefined;
    id: string;
    organization?: {
        id: string;
        name: string;
    } | undefined;
    profile?: {
        firstName: string;
        lastName: string;
        name?: string | undefined;
        preferredUserName?: string | undefined;
    } | undefined;
}

// @beta
export abstract class WsgClient extends Client {
    protected constructor(apiVersion: string);
    // (undocumented)
    apiVersion: string;
    // (undocumented)
    static readonly configHostRelyingPartyUri = "imjs_default_relying_party_uri";
    // (undocumented)
    static readonly configUseHostRelyingPartyUriAsFallback = "imjs_use_default_relying_party_uri_as_fallback";
    protected deleteInstance<T extends WsgInstance>(requestContext: AuthorizedClientRequestContext, relativeUrlPath: string, instance?: T, requestOptions?: WsgRequestOptions): Promise<void>;
    protected getInstances<T extends WsgInstance>(requestContext: AuthorizedClientRequestContext, typedConstructor: new () => T, relativeUrlPath: string, queryOptions?: RequestQueryOptions): Promise<T[]>;
    protected abstract getRelyingPartyUrl(): string;
    getUrl(requestContext: ClientRequestContext, excludeApiVersion?: boolean): Promise<string>;
    protected postInstance<T extends WsgInstance>(requestContext: AuthorizedClientRequestContext, typedConstructor: new () => T, relativeUrlPath: string, instance: T, requestOptions?: WsgRequestOptions): Promise<T>;
    protected postInstances<T extends WsgInstance>(requestContext: AuthorizedClientRequestContext, typedConstructor: new () => T, relativeUrlPath: string, instances: T[], requestOptions?: WsgRequestOptions): Promise<T[]>;
    protected postQuery<T extends WsgInstance>(requestContext: AuthorizedClientRequestContext, typedConstructor: new () => T, relativeUrlPath: string, queryOptions: RequestQueryOptions): Promise<T[]>;
    protected setupOptionDefaults(options: RequestOptions): Promise<void>;
    // (undocumented)
    protected _url?: string;
}

// @beta
export class WsgError extends ResponseError {
    constructor(errorNumber: number | HttpStatus, message?: string, getMetaData?: GetMetaDataFunction);
    static getErrorStatus(errorId: number, httpStatusType: number): number;
    static getWSStatusId(error: string): number;
    log(): void;
    static parse(response: any, log?: boolean): ResponseError;
    static shouldRetry(error: any, response: any): boolean;
}

// @beta
export abstract class WsgInstance extends ECInstance {
    // (undocumented)
    changeState?: ChangeState;
    // (undocumented)
    eTag?: string;
    // (undocumented)
    wsgId: string;
}

// @beta
export class WsgQuery {
    // @internal
    protected addFilter(filter: string, operator?: "and" | "or"): void;
    // @internal
    protected addSelect(select: string): this;
    filter(filter: string): this;
    // @internal
    getQueryOptions(): RequestQueryOptions;
    orderBy(orderBy: string): this;
    pageSize(n: number): this;
    // (undocumented)
    protected _query: RequestQueryOptions;
    // @internal
    resetQueryOptions(): void;
    select(select: string): this;
    skip(n: number): this;
    top(n: number): this;
}

// @beta
export interface WsgRequestOptions {
    // (undocumented)
    CustomOptions?: any;
    // (undocumented)
    RefreshInstances?: boolean;
    // (undocumented)
    ResponseContent?: "FullInstance" | "Empty" | "InstanceId";
}


// (No @packageDocumentation comment for this package)

```
